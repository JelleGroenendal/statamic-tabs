function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),i}function E(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c={exports:{}};const C={},q=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),k=w(q);var g=typeof process<"u"&&process.pid?process.pid.toString(36):"",_="";if(typeof __webpack_require__!="function"&&typeof E<"u"){var f="",v=k;if(v.networkInterfaces)var h=v.networkInterfaces();if(h){e:for(let e in h){const t=h[e],i=t.length;for(var o=0;o<i;o++)if(t[o]!==void 0&&t[o].mac&&t[o].mac!="00:00:00:00:00:00"){f=t[o].mac;break e}}_=f?parseInt(f.replace(/\:|\D+/gi,"")).toString(36):""}}c.exports=c.exports.default=function(e,t){return(e||"")+_+g+d().toString(36)+(t||"")};c.exports.process=function(e,t){return(e||"")+g+d().toString(36)+(t||"")};c.exports.time=function(e,t){return(e||"")+d().toString(36)+(t||"")};function d(){var e=Date.now(),t=d.last||e;return d.last=e>t?e:t+1}var M=c.exports;const O=T(M);function P(e,t,i,n,a,u,p,y){var s=typeof e=="function"?e.options:e;t&&(s.render=t,s.staticRenderFns=i,s._compiled=!0),n&&(s.functional=!0),u&&(s._scopeId="data-v-"+u);var r;if(p?(r=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),a&&a.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(p)},s._ssrRegister=r):a&&(r=y?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a),r)if(s.functional){s._injectStyles=r;var $=s.render;s.render=function(S,m){return r.call(m),$(S,m)}}else{var b=s.beforeCreate;s.beforeCreate=b?[].concat(b,r):[r]}return{exports:e,options:s}}const R={mixins:[Fieldtype],data(){return{isMainTab:!1,mainTab:null,padding:0,tab:{id:O(),handle:this.config.handle,name:this.config.display,icon:this.config.tab_icon,iconify_icon:this.config.tab_iconify_icon,active:!1,hidden:!1},tabs:[]}},computed:{tabPanelStyle(){return{marginLeft:"-"+this.padding+"px",marginRight:"-"+this.padding+"px"}}},methods:{setTabActive(e){this.tabs.forEach((t,i)=>{t.active=i===e})},checkIfFirstSibling(){let e=this.$el.closest(".publish-field");for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("tab-fieldtype"))return!1;e=e.previousElementSibling}return!0},findMainTab(){let e=this.$el.closest(".publish-field");for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("main-tab"))return e.previousElementSibling;e=e.previousElementSibling}return null},calculatePadding(){let e=this.$el.querySelector(".tabpanel.block .publish-field");if(e){const i=window.getComputedStyle(e).getPropertyValue("padding-left"),n=parseInt(i,10);this.padding=n}}},mounted(){this.isMainTab=this.checkIfFirstSibling(),this.isMainTab?(this.$el.closest(".publish-field").classList.add("main-tab"),this.$el.closest(".publish-field").dataset.uniqid=this.tab.id,this.mainTab=this.$el.closest(".publish-field")):this.mainTab=this.findMainTab(),this.isMainTab?(this.tab.active=!0,this.tabs.push(this.tab),this.$events.$on("tabs.push-"+this.tab.id,i=>{this.tabs.push(i)})):this.$events.$emit("tabs.push-"+this.mainTab.dataset.uniqid,this.tab);let e=this.$el.closest(".publish-field"),t=[];for(;e.nextElementSibling&&!e.nextElementSibling.classList.contains("tab-fieldtype");)t.push(e.nextElementSibling),e=e.nextElementSibling;this.$nextTick(()=>{this.isMainTab?(t.forEach(i=>{document.getElementById("tab-content-"+this.tabs[0].id).querySelector(".publish-fields").appendChild(i)}),this.$events.$on("tabs.append-"+this.tab.id,(i,n)=>{document.getElementById("tab-content-"+n).querySelector(".publish-fields").appendChild(i)})):t.forEach(i=>{this.$events.$emit("tabs.append-"+this.mainTab.dataset.uniqid,i,this.tab.id)})}),this.$nextTick(()=>{this.isMainTab&&this.$el.closest(".publish-field").querySelector("label").classList.add("super-invisible"),this.isMainTab||this.$el.closest(".publish-field").classList.add("super-invisible")}),this.$nextTick(()=>{this.isMainTab&&(this.calculatePadding(),window.addEventListener("resize",i=>{this.calculatePadding()}))}),this.$nextTick(()=>{const i=this.$el.closest(".publish-field");window.getComputedStyle(i).display==="none"?this.tab.hidden=!0:this.tab.hidden=!1})},created(){this.$nextTick(()=>{const e=this.$el.closest(".publish-field");new MutationObserver(i=>{i.forEach(n=>{n.type==="attributes"&&n.attributeName==="style"&&(window.getComputedStyle(e).display==="none"?this.tab.hidden=!0:this.tab.hidden=!1)})}).observe(e,{attributes:!0,attributeFilter:["style"]})})}};var x=function(){var t=this,i=t._self._c;return i("div",[t.isMainTab?i("div",{staticClass:"tabs-container relative"},[i("div",{staticClass:"tabs flex-1 flex space-x-3 overflow-auto pr-6",attrs:{role:"tablist"}},t._l(t.tabs,function(n,a){return i("button",{staticClass:"tab-button",class:{active:n.active,hidden:n.hidden},attrs:{role:"tab"},on:{click:function(u){return t.setTabActive(a)}}},[n.iconify_icon?i("iconify-icon",{staticClass:"h-4 w-4 text-lg mr-2",attrs:{icon:n.iconify_icon}}):n.icon?i("svg-icon",{staticClass:"h-4 w-4 mr-2",attrs:{name:n.icon}}):t._e(),t._v(" "+t._s(n.name)+" ")],1)}),0)]):t._e(),t._l(t.tabs,function(n,a){return i("div",{staticClass:"tabpanel",class:{block:n.active,hidden:!n.active},style:t.tabPanelStyle,attrs:{role:"tabpanel",id:"tab-content-"+n.id}},[i("div",{staticClass:"publish-fields @container w-full"})])})],2)},F=[],j=P(R,x,F,!1,null,null,null,null);const I=j.exports;Statamic.booting(()=>{Statamic.$components.register("tab-fieldtype",I)});
